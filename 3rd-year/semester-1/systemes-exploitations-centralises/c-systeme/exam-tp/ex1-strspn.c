#include <stdio.h>
#include <stdlib.h>

// rechercher un ensemble de caractères dans une chaine

size_t mystrspn(const char *s, const char *accept) {
    int nb=0;            // resultat 
    int nbt=0;           // resultat temporaire 
    const char * pac;    // pointeur copie de accept
    const char * sc=s;   // pointeur copie de s
    
    // on parcourt tous les caractères de la chaine s
    while (*sc) {
        pac = accept;    // on reinitialise le pointeur copie de accept
        // on compare le caractère courant de s avec tous les caractères de accept
        while (*pac) {  // tant qu'on n'est pas à la fin de pac
            if (*sc != *pac) pac++;     // si le car de sc n'est pas celui de pac
                                        // on passe au suivant 
            else break;     // sinon, on a trouvé, on sort de la boucle
        }
        // si on n'est pas à la fin de pac, on augmente nb
        if (*pac) nbt++; 
        else {
            if (nbt > nb) nb = nbt; // on sauvegarde la dernière valeur trouvée si elle est plus grande de nb actuel
            nbt = 0; // on remet à zero nbt pour commencer a compter la suite
        };     
        sc++;   // on passe au car suivant de sc
    }
    return nb;
}


int main() {
    char * test = "yeiabdthaeiuoaetio" ; // les segments de points yeia aeiuoae io
    size_t nb = mystrspn(test,"aeiouy"); // le plus grand segment aeiuoae
    printf("%zu \n",nb); // 7  longueur de aeiuoae
    nb = mystrspn("\t bonjour a \t\t tous ","\t ");
    printf("%zu \n",nb); // 4 " \t\t "
    nb = mystrspn("bonjour","xyz");
    printf("%zu \n",nb); // 0


    return EXIT_SUCCESS;
}
