#include<stdio.h>
#include<stdlib.h>

// commande Unix basename sans utiliser strstr(char* ch1, char* ch2) :


int main(int argc, char * argv[]){
	if(argc>3 || argc<1){
		fprintf(stderr, "basename nomfichier suffixe");
		exit(3);
	}

	//declarration
	char * str=argv[1];//on attribue a str l'adresse du début de la chaine de caractere 
	char * suf=argv[2];
	
	//on parcours l'argument 1 jusqu'à "/0"
	while(*str)str++;
	
	//dans le cas ou il y a un suffixe :
	if(argv[2]){ //on vérifie s'il y a un argument suffixe
		while(*suf)suf++; //on va à la fin de la chaine de caractere
		while(*str==*suf)str--,suf--;//tant que chaine de car identique on revient en arriere
		str++; //on réavance d'un caractere pour ne pas écraser la fin de la chaine
		*str='\0';//on remplace par le caractère fin de chaîne
	}
	//on revient au premier '/' :
	while(*str!='/'&& str!=argv[1])str--;
	if(*str=='/' || str==argv[1])str++;
	
	while(*str)putchar(*str++);
	
	printf("\n");
	return 0;
}
